# 忘年会景品大会ゲームアプリ

## プロジェクト概要
本プロジェクトは、忘年会の景品大会に用いられる簡単なゲームアプリです。参加者はゲームを通じてポイントを獲得し、順位に応じた景品を獲得することができます。

## 参加人数
20~50人を予定

## ゲームのルール

### 基本ルール
- 参加者はゲームを通じてptを獲得することを目指す
- ゲームは合計5回行われる
- 1回の制限時間は20秒とする
- ゲーム全体を通して獲得したptの合計によって参加者の順位が決定する
- 獲得ptが多いほど順位は高くなる

### カード選択ルール
- ゲーム本番では数字が記載されたカードが画面上に複数枚表示される
- 各回で表示されるカードの枚数および、カードに記載される数字は毎回異なる（各回で表示されるカードの枚数及び、カードに記載される数字はランダムではなく、事前に決定されたものである）
- 参加者は各回で画面に表示されたカードの中から1つを選択する

### 得点計算
参加者が得られる獲得ptの計算式は次のとおりである。

```
獲得pt = カードに書かれた数字 / そのカードを選択した参加者の人数
```

**具体例**
- カードA = 3
- カードB = 5
- カードC = 10
- 参加人数 = 10
- カードAを選んだ人数 = 3
- カードBを選んだ人数 = 5
- カードCを選んだ人数 = 2

**結果**
- カードAを選んだ人の獲得pt = 3/3 = 1
- カードBを選んだ人の獲得pt = 5/5 = 1
- カードCを選んだ人の獲得pt = 10/2 = 5

### 景品
- 参加者は進行係が事前に発表した順位に応じた景品を獲得することができる

## ゲームの面白さとなる特徴
- 他のユーザーと選択肢が被らないように注意しながらも高得点を目指す、心理的な駆け引きが求められる点
- ユーザー間の選択によっては高得点を期待したつもりでも期待通りにならなかったり、予想外の結果から一発逆転の高得点を獲得する事態が起こったりする点
- 各回でカードの枚数もカードに記載された数字も異なるため、各回ごとの戦略性が問われる点
- あらかじめ順位に応じた景品を公表するため、最上位を目指すことが全員の目標になるとは限らない点（あえて2位の景品を狙いに行く、とかもあり）

## ゲームの流れ
1. 進行係はゲーム説明用スライドを投影する
2. 進行係はゲームのルールを説明する
3. 進行係はゲームを通じて獲得できるpt数に応じて景品が選べることを説明し、順位に応じた景品一覧を参加者に公表する
4. 参加者にスマートフォンのカメラを起動してもらうよう促す
5. 参加者はプロジェクターに映されたQRコードを読み取ってブラウザ上に公開されたURLにアクセスする
6. 参加者は自分の名前を入力して画面の「入室」ボタンを押下する
7. 参加者は主催者がゲームを開始するまで待機画面にて待機する
8. 進行係は参加者が出揃ったことを確認したら、進行係用のURLにアクセスすることによって表示される画面上のボタンを押下してゲーム開始となるトリガーを発火する
9. 20秒以内に参加者はカードを選択する
10. 結果発表画面で直前に行った回において、どのカードをどれだけの人が選んだか、人数と獲得pt数、参加者名を表示する
11. 進行係は「次のゲームを開始する」ボタンを押下する
12. 3回戦が終わるまで項番7~9を繰り返す
13. 4回戦に入る前に中間順位を発表する
14. 4回戦、5回戦で項番7~9を再び実施する
15. 最終結果を発表する
16. 上位3位の表彰と景品贈呈、インタビューを行う
17. 進行係が終わりの挨拶を行う
18. （景品の交換会を行ってもいい。景品交換のためのマッチングシステムもひそかに考案中。例...求：Switch2 譲：ポケットティッシュ）

## 使用技術
- **Next.js**: フレームワーク/API提供
- **React**: ライブラリ（Next.jsに内包）
- **TailwindCSS**: スタイリング
- **Vercel**: ビルド・デプロイ

## 画面一覧

### 参加者側画面
- ホーム画面
- 参加登録画面
- ゲーム画面
- ゲーム終了画面

### 進行側画面
- 進行用画面
- 各回の結果発表画面
- 中間順位発表画面
- 最終順位発表画面
- 3位表彰画面
- 2位表彰画面
- 1位表彰画面
- スタッフロール画面

## 機能一覧

### ホーム画面（参加者側）
- ゲームのタイトルを表示
- ゲームのデザインを表示
- 「Play」ボタン押下で参加登録画面に遷移する

### 参加登録画面（参加者側）
- 3つの入力可能なテキストボックスを表示する
  - 所属
  - 名前
  - 意気込み/狙う順位
- 「Entry」ボタン押下でサーバーサイドに参加者情報を送信し、参加者に一意のIDを割り当てる
- 「Entry」ボタン押下でゲーム画面に遷移し、ゲーム開始のトリガー発火を待機する状態になる

### ゲーム画面（参加者側）
- 待機状態/カウントダウン時/ゲーム本番時 の3つの状態を有する
- 進行係がゲーム開始のトリガーを発火するまでは待機状態となり、参加者の画面には「ゲーム開始までお待ちください」と表示される
- ゲーム開始のトリガー発火後、3秒のカウントダウンが画面上で作動する
- カウントダウン終了後、20秒のタイマーが作動する
- タイマー作動と同時に画面に複数枚のカードが表示される
- 参加者がカードを選択すると参加者が現在選択しているカードの情報がサーバーに送られ、更新される。また、現在選択中のカードがわかるように淡い黄緑色で強調され、サイズが1.2倍に拡大する
- タイマー終了後、カードは非表示になり、再び待機状態となる
- 画面の上部中央には現在何回目のゲームかがわかるよう「n回戦（nには現在のゲーム回数が表示される）」と表示される

### ゲーム終了画面（参加者側）
- 本プロジェクトのGitHubリモートリポジトリURLを表示
- 本プロジェクトの制作ログページURLを表示（Zennの予定）
- 簡単な開発後記を表示、参加者の個人開発やグループでの課外活動など..グループ独自の取り組みを作る仲間を募って終わる（例：定期情報共有会の開催など）

### 進行用画面（進行側）
- 「待機人数更新」ボタンを押下すると現在待機中の参加者人数が表示される
- 「ゲーム開始」ボタンを押下するとゲーム開始のトリガーが発火し、進行用画面と参加者画面でカウントダウンが開始する
- カウントダウン終了後、20秒のタイマーが表示され、作動する
- タイマー終了後、「得点発表」ボタンが表示され、ボタン押下で各回の結果発表画面に遷移する
- 画面の上部中央には現在何回目のゲームかがわかるよう「n回戦（nには現在のゲーム回数が表示される）」と表示される

### 各回の結果発表画面（進行側）
- 画面の上部中央には現在何回目のゲームかがわかるよう「n回戦の結果（nには現在のゲーム回数が表示される）」と表示される
- 3回目の結果発表画面には「中間順位発表」ボタンが表示され、ボタン押下で中間順位発表画面に遷移する
- 5回目の結果発表画面には「最終順位発表」ボタンが表示され、ボタン押下で最終順位発表画面に遷移する

### 中間順位発表画面（進行側）
- 画面最下部に「戻る」ボタンが表示され、押下すると進行用画面に遷移する
- 水平方向に左から「順位」「名前」「得点」の順に列を用意し、全参加者の情報を垂直方向に全行表示する
- 1位の情報のフォントサイズは2位よりも大きいものとする
- 2位の情報のフォントサイズは3位よりも大きいものとする
- 3位の情報のフォントサイズは4位以下よりも大きいものとする
- 4位以下の情報のフォントサイズはすべて等しい

### 最終順位発表画面（進行側）
- 画面最下部に「戻る」ボタンが表示され、押下すると進行用画面に遷移する
- 水平方向に左から「順位」「名前」「得点」の順に列を用意し、全参加者の情報を垂直方向に全行表示する
- 1位の情報のフォントサイズは2位よりも大きいものとする
- 2位の情報のフォントサイズは3位よりも大きいものとする
- 3位の情報のフォントサイズは4位以下よりも大きいものとする
- 4位以下の情報のフォントサイズはすべて等しい
- 最下位の情報と「戻る」ボタンの間に「表彰画面へ」ボタンを表示し、ボタン押下で3位表彰画面に遷移する

### 3位表彰画面（進行側）
- 順位、獲得pt、所属、名前、意気込み、獲得景品名、獲得景品画像を表示する
- 「次へ」ボタンを表示し、ボタン押下で2位表彰画面へ遷移する

### 2位表彰画面（進行側）
- 順位、獲得pt、所属、名前、意気込み、獲得景品名、獲得景品画像を表示する
- 「次へ」ボタンを表示し、ボタン押下で1位表彰画面へ遷移する

### 1位表彰画面（進行側）
- 順位、獲得pt、所属、名前、意気込み、獲得景品名、獲得景品画像を表示する
- 「次へ」ボタンを表示し、ボタン押下でスタッフロール画面へ遷移する

### スタッフロール画面（進行側）
- 原案：〇〇氏
- 開発：■■氏
- SpecialThanks：本日ご参加の皆様方

## 開発方針
- プログラミング初心者にも平易に理解が可能になるよう、以下の観点を考慮する
  - 1ファイルのコード量、1つの関数のコード量が膨大になったり、冗長的になったりするのを避ける
  - 可読性を高めるため、コードのネストは最小限にとどめる
  - コメントの記載は各変数、各関数ごとに1つまでとし、対象の変数、関数の前の行に記載すること
- 本プロンプト受信時にユーザーの用意なしでは表示できないもの（GitHubのリモートリポジトリURLなど）はダミーを用意し、ダミーである旨をコメントにて強調表示すること

## 用意する道具
- 進行用PC（Windows）
- HDMIケーブル
- 進行用スクリーン（プロジェクター）
- スマートフォン
- 景品

